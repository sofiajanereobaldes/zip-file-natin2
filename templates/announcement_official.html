{% extends "base.html" %}

{% block css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/announcement_official.css') }}">
{% endblock %}

{% block header %}
<header class="header" id="mainHeader">
    <div class="header-left">
      <div class="logo">
            <img src="{{ url_for('static', filename='images/cares-high-resolution-logo-transparent (2).png') }}" alt="CARES logo" class="logo-image">
          </div>
      <div class="logo-text">
        <span>CARES</span>
      </div>
    </div>

    <nav class="nav">
      <a href="{{ url_for('homepage_bp.home_brgyofficial') }}">Home</a>
      <a href="{{ url_for('announcement_bp.announcement') }}" class="active">Announcements</a>
      <a href="{{ url_for('checkup_bp.check_up_log_official') }}">Check-Up Log</a>
    </nav>

  <div class="header-right">
    <div class="profile-chip" id="profileChip">
      <div class="avatar">{{ user.first_name[0] }}{{ user.last_name[0] }}</div>
      <div class="profile-info">
        <span class="name">{{ user.first_name }} {{ user.last_name }}</span>
        <span class="role">{{ user.position }}</span>
      </div>
      <span class="chevron">‚ñæ</span>
    </div>
    
  </div>
</header>
{% endblock %}

{% block content %}

<main>
  <!-- Announcements Hero -->
  <section class="ann-hero">
  <img
    class="ann-hero-bg-img"
    src="{{ url_for('static', filename='images/6187958781958884323.jpg') }}"
    alt="Announcements background">
  <div class="ann-hero-overlay"></div>

  <div class="ann-hero-inner">
    <h1>Community Announcements</h1>
    <p>Stay informed with the latest health updates, community events, and important notices from Barangay San Miguel Health Center.</p>
    <button id="btnOpenCreateModal" class="btn-ann-primary">
      <span>Ôºã</span><span>Create New Announcement</span>
    </button>
  </div>
</section>


  <!-- Pinned Announcements -->
  <section class="ann-section">
  <div class="ann-section-header">
    <h2>üìå Pinned Announcements</h2>
  </div>
  <div id="pinnedList" class="ann-list"></div>
</section>

  <!-- All Announcements -->
  <section class="ann-section">
  <div class="ann-section-header">
    <h2>All Announcements</h2>
    <span id="annCount" class="ann-count"></span>
  </div>
  <div class="ann-filters">
    <button class="ann-filter-btn active" data-category="all">All</button>
    <button class="ann-filter-btn" data-category="vaccination">Vaccination</button>
    <button class="ann-filter-btn" data-category="workshop">Workshops</button>
    <button class="ann-filter-btn" data-category="clinic">Clinic Updates</button>
  </div>
  <div id="allList" class="ann-list"></div>
</section>
</main>

<!-- Create Announcement Modal 
<div id="createModal" class="modal-backdrop">
  ...
</div> -->

<div id="createModal" class="modal-backdrop">
  <div class="modal">
    <div class="modal-header">
      <h3>Create New Announcement</h3>
      <button id="btnCloseCreateModal" class="modal-close">√ó</button>
    </div>

    <form id="createAnnouncementForm" class="modal-body">
      <label>
        Announcement Title *
        <input type="text" name="title" required placeholder="Enter announcement title">
      </label>

      <label>
        Content *
        <textarea name="content" rows="5" maxlength="500"
                  placeholder="Write your announcement content here..." required></textarea>
      </label>

      <label>
        Image (Optional)
        <div class="modal-input-row">
          <input type="file" id="imageFile" accept="image/*">
          <input type="url" id="imageUrl" placeholder="Or paste image URL">
        </div>
      </label>

      <label>
        Related Link (Optional)
        <input type="url" name="link" placeholder="https://example.com">
      </label>

      <label>
        Category
        <select name="category">
          <option value="general">General</option>
          <option value="vaccination">Vaccination</option>
          <option value="workshop">Workshops</option>
          <option value="clinic">Clinic Updates</option>
        </select>
      </label>

      <label class="checkbox-row">
        <input type="checkbox" name="pinned">
        <span>Pin this announcement (will appear on homepage)</span>
      </label>

      <div class="modal-footer">
        <button type="button" id="btnCancelCreate" class="btn-secondary">Cancel</button>
        <button type="submit" class="btn-primary">Publish Announcement</button>
      </div>
    </form>
  </div>
</div>


<!--FOOTER-->
<footer class="footer">
  <div class="footer-inner">
    <div class="footer-grid">
      <!-- Contact Information -->
      <div>
        <h4>Contact Information</h4>
        <div class="footer-contact-item">
          <span class="footer-contact-icon">üìç</span>
          <p>
            Barangay San Miguel Health Center<br />
            123 Sampaguita Street, Barangay San Miguel
          </p>
        </div>
        <div class="footer-contact-item">
          <span class="footer-contact-icon">üìû</span>
          <p>(032) 123-4567</p>
        </div>
        <div class="footer-contact-item">
          <span class="footer-contact-icon">‚úâ</span>
          <p>health@sanmiguel.gov</p>
        </div>

        <div style="margin-top: 10px;">
          <p>Follow Us</p>
          <div class="footer-social">
            <div class="social-icon">f</div>
            <div class="social-icon">t</div>
            <div class="social-icon">‚ñ∂</div>
            <div class="social-icon">‚óé</div>
          </div>
        </div>
      </div>

      <!-- Barangay Officials -->
      <div>
        <h4>Barangay Officials</h4>
        <p style="margin-bottom: 6px;">Health Officers</p>
        <ul class="footer-list">
          <li>Dr. Ana Santos ‚Äì Municipal Health Officer</li>
          <li>Jose Reyes ‚Äì Barangay Captain</li>
          <li>Lisa Martinez ‚Äì Youth Coordinator</li>
        </ul>

        <p style="margin: 12px 0 6px;">Emergency Contacts</p>
        <ul class="footer-list">
          <li>Emergency Hotline: 911</li>
          <li>Health Emergency: (032) 456-7890</li>
          <li>Barangay Hall: (032) 234-5678</li>
        </ul>
      </div>

      <!-- Quick Links -->
      <div>
        <h4>Quick Links</h4>
        <ul class="footer-list">
          <li><a href="#">Health Services</a></li>
          <li><a href="#">Education Programs</a></li>
          <li><a href="#">Book Appointment</a></li>
          <li><a href="#">Health Resources</a></li>
          <li><a href="#">About Us</a></li>
          <li><a href="#">Contact Us</a></li>
        </ul>
      </div>

      <!-- Business Hours -->
      <div>
        <h4>Business Hours</h4>
        <div class="business-hours">
          <p>Monday ‚Äì Friday: 8:00 AM ‚Äì 5:00 PM</p>
          <p>Saturday: 8:00 AM ‚Äì 12:00 PM</p>
          <p>Sunday: Emergency Only</p>
        </div>
      </div>
    </div>

    <div class="footer-bottom">
      <span>¬© 2025 Barangay San Miguel Health Center. All rights reserved </span>
      <span>Barangay Health and Education Management System ‚Äì CARES</span>
    </div>
  </div>
</footer>

{% endblock %}
{% block script %}

<script src="{{ url_for('static', filename='scripts/announcement_official.js') }}"></script>
{% endblock %}
