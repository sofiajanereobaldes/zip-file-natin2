{%extends "base.html" %}

{% block css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/home_resident.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/announcement_resident.css') }}">
{% endblock %}


{% block header %}
<header class="header" id="mainHeader">
  <div class="header-left">
      <div class="logo">
            <img src="{{ url_for('static', filename='images/cares-high-resolution-logo-transparent (2).png') }}" alt="CARES logo" class="logo-image">
          </div>
      <div class="logo-text">
        <span>CARES</span>
      </div>
    </div>

  <nav class="nav">
    <a href="{{ url_for('homepage_bp.home_resident') }}">Home</a>
    <a href="{{ url_for('announcement_bp.announcement') }}" class="active">Announcements</a>
    <a href="{{ url_for('checkup_bp.check_up_log_resident') }}">Check-Up Log</a>
  </nav>

  <div class="header-right">
    <div class="profile-chip" id="profileChip">
      <div class="avatar">{{ user.first_name[0] }}{{ user.last_name[0] }}</div>
      <div class="profile-info">
        <span class="name">{{ user.first_name }} {{ user.last_name }}</span>
        <span class="role">Resident</span>
      </div>
      <span class="chevron">▾</span>
    </div>
  </div>

  <div class="profile-menu">
    <ul>
      <li data-action="logout">Log Out</li>
    </ul>
  </div>
</header>
{% endblock %}

{%block content%}

  <main>
    <!-- Back -->
    <button class="back-link" id="backBtn" data-home-url="{{ url_for('homepage_bp.home_resident') }}">
      <span>←</span>
      <span>Back to Home</span>
    </button>

    <!-- Page title -->
    <div class="page-header">
      <h1>Health Announcements</h1>
      <p>Stay updated with important health information and community announcements.</p>
    </div>

    <!-- Announcements list -->
    <section>
      <div id="annList" class="ann-list"></div>
      <div id="emptyState" class="empty-state" style="display:none;">
        There are no health announcements at the moment. Please check back later or follow our social channels for updates.
      </div>
    </section>
  </main>

  <!--FOOTER-->
<footer class="resident-footer">
  <div class="resident-footer-inner">
    <div class="resident-footer-col">
      <h4>Emergency Contacts</h4>
      <p>Emergency: 911</p>
      <p>Barangay Health Center: (032) 123-4567</p>
    </div>
    <div class="resident-footer-col">
      <h4>Connect With Us</h4>
      <p>Facebook: @BarangayHealthCenter</p>
      <p>Email: health@barangay.gov.ph</p>
    </div>
    <div class="resident-footer-col">
      <h4>Healthcare Team</h4>
      <p>Dr. Ana Santos – Municipal Health Officer</p>
      <p>Nurse John Martinez – Community Nurse</p>
    </div>
  </div>
  <div class="resident-footer-bottom">
    <span>© 2025 Barangay San Miguel Health Center</span>
    <span>Barangay Health and Education Management System – CARES</span>
  </div>
</footer>

{%endblock%}

{%block script %}
<script src="{{ url_for('static', filename='scripts/announcement_resident.js') }}"></script>
{%endblock%}