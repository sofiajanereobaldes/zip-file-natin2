{%block css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home_resident.css') }}">
{%endblock%}

{% extends "base.html" %} <!--jinja code-->

{% block header %}
<header class="header" id="mainHeader">
    <div class="header-left">
      <div class="logo">
            <img src="{{ url_for('static', filename='images/cares-high-resolution-logo-transparent (2).png') }}" alt="CARES logo" class="logo-image">
          </div>
      <div class="logo-text">
        <span>CARES</span>
      </div>
    </div>

    <nav class="nav">
      <a href="{{ url_for('homepage_bp.home_resident') }}" class="active">Home</a>
      <a href="{{ url_for('announcement_bp.announcement') }}">Announcements</a>
      <a href="{{ url_for('checkup_bp.check_up_log_resident') }}">Check-Up Log</a>
    </nav>

    <div class="header-right">
  <div class="profile-chip" id="residentProfileChip">
    <div class="avatar">{{ user.first_name[0] }}{{ user.last_name[0] }}</div>
    <div class="profile-info">
      <span class="name">{{ user.first_name }} {{ user.last_name }}</span>
      <span class="role">Resident ID: {{ user.resident_id }}</span>
    </div>
    <span class="chevron">‚ñæ</span>
  </div>

  <div class="profile-menu">
    <ul>
      <li data-action="logout">Log Out</li>
    </ul>
  </div>
</div>
</header>
{% endblock %}
{% block content %}

<!-- CONTENT -->
<main>
  <section class="resident-hero">
  <img
    class="resident-hero-img" src="{{ url_for('static', filename='images/family-portrait-nature-mom-plays-with-sun-holding-pillows.jpg') }}" alt="Family walking in the barangay">
    <div class="resident-hero-overlay"></div>

    <div class="resident-hero-grid">
      <!-- Left: title + stats -->
      <div>
        <div class="hero-pill">
          <div class="hero-pill-icon">üè•</div>
          <span>Welcome to Your Health Portal</span>
        </div>

        <h1 class="hero-title">
          Barangay Health and<br />
          Education <span class="accent">Management</span><br />System
        </h1>
        <p class="hero-subtitle">
          Access your medical records, view health announcements, and stay connected with community healthcare
          services. Your health information is secure and always available when you need it.
        </p>
      </div>
    </div>
  </section>

  <section class="section">
  <div class="section-inner">
    <div class="section-header">
      <div>
        <h2>Latest Health Updates</h2>
        <p>Stay informed with the most recent health announcements and community updates from your barangay officials.</p>
      </div>
    </div>

    <div id="residentAnnouncements" class="announcements-grid"></div>

    <div class="view-all-wrap">
      <a href="{{ url_for('announcement_bp.announcement') }}" class="view-all-btn">
        <span>View All Announcements</span>
        <span>‚Üí</span>
      </a>
    </div>
  </div>
</section>

<!--FOOTER-->
<footer class="resident-footer">
  <div class="resident-footer-inner">
    <div class="resident-footer-col">
      <h4>Emergency Contacts</h4>
      <p>Emergency: 911</p>
      <p>Barangay Health Center: (032) 123-4567</p>
    </div>
    <div class="resident-footer-col">
      <h4>Connect With Us</h4>
      <p>Facebook: @BarangayHealthCenter</p>
      <p>Email: health@barangay.gov.ph</p>
    </div>
    <div class="resident-footer-col">
      <h4>Healthcare Team</h4>
      <p>Dr. Ana Santos ‚Äì Municipal Health Officer</p>
      <p>Nurse John Martinez ‚Äì Community Nurse</p>
    </div>
  </div>
  <div class="resident-footer-bottom">
    <span>¬© 2025 Barangay San Miguel Health Center</span>
    <span>Barangay Health and Education Management System ‚Äì CARES</span>
  </div>
</footer>


{% endblock %}

{%block script %}
<script>
  const LOGOUT_URL = {{ url_for('api_logout') | tojson }};
  const LOGIN_RESIDENT_URL = {{ url_for('login_bp.login', role='resident') | tojson }};
</script>
<script src="{{ url_for('static', filename='scripts/home_resident.js') }}"></script>
{%endblock%}
